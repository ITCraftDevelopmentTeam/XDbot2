[
    {
        "规则名": "HelloWorld",
        "执行": [
            {
                "调用": "如果真",
                "条件": [
                    {
                        "调用": "eval",
                        "代码": "argument == \"/hello\""
                    }
                ],
                "执行": [
                    {
                        "调用": "发送消息",
                        "消息": "HelloWorld"
                    }
                ]
            }
        ]
    },
    {
        "规则名": "YiFanZhuZhu",
        "执行": [
            {
                "调用": "如果真",
                "条件": [
                    {
                        "调用": "eval",
                        "代码": "\"nm\" in argument"
                    }
                ],
                "执行": [
                    {
                        "调用": "如果真",
                        "条件": [
                            {
                                "调用": "eval",
                                "代码": "event.get_user_id() == \"2558938020\""
                            }
                        ],
                        "执行": [
                            {
                                "调用": "执行",
                                "代码": "try: data = json.load(open(\"data/rule.yfnm.json\"))\nexcept: data={\"count\":0}"
                            },
                            {
                            	"调用": "执行",
                            	"代码": "data[\"count\"] += 1"
                            },
                            {
                            	"调用": "执行",
                            	"代码": "json.dump(data, open(\"data/rule.yfnm.json\", \"w\"))"
                            }
                            
                        ]
                    }
                ]
            }
        ]
    },
    {
        "规则名": "YiFanZhuZhu-get",
        "执行": [
            {
                "调用": "如果真",
                "条件": [
                    {
                        "调用": "eval",
                        "代码":"argument == \"/getyfnm\""
                    }
                ],
                "执行": [
                    {
                        "调用": "设置变量",
                        "变量名": "count",
                        "值": [
                            {
                                "调用": "eval",
                                "代码": "str(json.load(open(\"data/rule.yfnm.json\"))[\"count\"])"
                            }
                        ]
                    },
                    {
                        "调用": "发送消息",
                        "消息": [
                            {
                                "调用": "取变量",
                                "变量名": "count"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]
